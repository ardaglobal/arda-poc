syntax = "proto3";

package ardapoc.rent;

import "amino/amino.proto";
import "cosmos/msg/v1/msg.proto";
import "cosmos_proto/cosmos.proto";
import "gogoproto/gogo.proto";
import "ardapoc/rent/params.proto";
import "ardapoc/rent/lease.proto";

option go_package = "github.com/ardaglobal/arda-poc/x/rent/types";

// Msg defines the Msg service.
service Msg {
  option (cosmos.msg.v1.service) = true;
  
  // UpdateParams defines a (governance) operation for updating the module
  // parameters. The authority defaults to the x/gov module account.
  rpc UpdateParams         (MsgUpdateParams        ) returns (MsgUpdateParamsResponse        );
  rpc CreateLease          (MsgCreateLease         ) returns (MsgCreateLeaseResponse         );
  rpc UpdateLease          (MsgUpdateLease         ) returns (MsgUpdateLeaseResponse         );
  rpc DeleteLease          (MsgDeleteLease         ) returns (MsgDeleteLeaseResponse         );
  rpc PayRent              (MsgPayRent             ) returns (MsgPayRentResponse             );
  rpc InitiateCancellation (MsgInitiateCancellation) returns (MsgInitiateCancellationResponse);
  rpc ApproveCancellation  (MsgApproveCancellation ) returns (MsgApproveCancellationResponse );
  rpc CancelCancellation   (MsgCancelCancellation  ) returns (MsgCancelCancellationResponse  );
}
// MsgUpdateParams is the Msg/UpdateParams request type.
message MsgUpdateParams {
  option (cosmos.msg.v1.signer) =                      "authority";
  option           (amino.name) = "ardapoc/x/rent/MsgUpdateParams";
  
  // authority is the address that controls the module (defaults to x/gov unless overwritten).
  string authority = 1 [(cosmos_proto.scalar) = "cosmos.AddressString"];

  // params defines the module parameters to update.
  
  // NOTE: All parameters must be supplied.
  Params params = 2 [(gogoproto.nullable) = false, (amino.dont_omitempty) = true];
}

// MsgUpdateParamsResponse defines the response structure for executing a
// MsgUpdateParams message.
message MsgUpdateParamsResponse {}

message MsgCreateLease {
  option (cosmos.msg.v1.signer) = "creator";
  string creator                  =  1;
  string propertyId               =  2;
  string tenant                   =  3;
  uint64 rentAmount               =  4;
  string rentDueDate              =  5;
  string status                   =  6;
  uint64 timePeriod               =  7;
  string paymentsOutstanding      =  8;
  string termLength               =  9;
  bool   recurringStatus          = 10;
  bool   cancellationPending      = 11;
  string cancellationInitiator    = 12;
  uint64 cancellationDeadline     = 13;
  uint64 lastPaymentBlock         = 14;
  string paymentTerms             = 15;
  string cancellationRequirements = 16;
}

message MsgCreateLeaseResponse {
  uint64 id = 1;
}

message MsgUpdateLease {
  option (cosmos.msg.v1.signer) = "creator";
  string creator                  =  1;
  uint64 id                       =  2;
  string propertyId               =  3;
  string tenant                   =  4;
  uint64 rentAmount               =  5;
  string rentDueDate              =  6;
  string status                   =  7;
  uint64 timePeriod               =  8;
  string paymentsOutstanding      =  9;
  string termLength               = 10;
  bool   recurringStatus          = 11;
  bool   cancellationPending      = 12;
  string cancellationInitiator    = 13;
  uint64 cancellationDeadline     = 14;
  uint64 lastPaymentBlock         = 15;
  string paymentTerms             = 16;
  string cancellationRequirements = 17;
}

message MsgUpdateLeaseResponse {}

message MsgDeleteLease {
  option (cosmos.msg.v1.signer) = "creator";
  string creator = 1;
  uint64 id      = 2;
}

message MsgDeleteLeaseResponse {}

message MsgPayRent {
  option (cosmos.msg.v1.signer) = "creator";
  string creator = 1;
  string leaseId = 2;
}

message MsgPayRentResponse {
  bool success = 1;
  string amount_paid = 2;
  string amount_disbursed = 3;
  int32 outstanding_cleared = 4;
}

message MsgInitiateCancellation {
  option (cosmos.msg.v1.signer) = "creator";
  string creator = 1;
  string leaseId = 2;
}

message MsgInitiateCancellationResponse {}

message MsgApproveCancellation {
  option (cosmos.msg.v1.signer) = "creator";
  string creator = 1;
  string leaseId = 2;
}

message MsgApproveCancellationResponse {}

message MsgCancelCancellation {
  option (cosmos.msg.v1.signer) = "creator";
  string creator = 1;
  string leaseId = 2;
}

message MsgCancelCancellationResponse {}

